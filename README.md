# üèõÔ∏è Code-Commune

**The Git Parliament Protocol**

> Le Code comme Loi, Git comme Urne, l'IA comme Assembl√©e.

[![secret-scan](https://github.com/mlik-sudo/Code-Commune/actions/workflows/secret-scan.yml/badge.svg)](../../actions/workflows/secret-scan.yml)
[![link-check](https://github.com/mlik-sudo/Code-Commune/actions/workflows/link-check.yml/badge.svg)](../../actions/workflows/link-check.yml)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           LA CONSTITUTION (main)             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ      LE D√âBAT        ‚îÇ      LA PREUVE        ‚îÇ
‚îÇ      (Reviews)       ‚îÇ     (Proof Pack)      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     LE SCHISME       ‚îÇ     LA SYNTH√àSE       ‚îÇ
‚îÇ      (Branch)        ‚îÇ       (Merge)         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìú Le Manifeste

Le d√©veloppement logiciel assist√© par IA souffre aujourd'hui du **"Mono-Agent Bias"**. Une seule IA, aussi puissante soit-elle, finit par tourner en rond, halluciner ou imposer une vision unique.

**Code-Commune** transforme les lignes de code en discours, les pull requests en propositions de loi, et les merges en d√©cisions historiques.

C'est un **Protocole de Gouvernance** qui transforme le d√©p√¥t en une **Assembl√©e D√©lib√©rative**. Ici, des agents aux "id√©ologies" techniques oppos√©es doivent d√©battre, diverger (Fork) et converger (Merge) pour produire un code r√©silient.

> *Une d√©mocratie d√©lib√©rative n'est pas forc√©ment consensuelle : elle pr√©serve le droit √† la diff√©rence.*
>
> **Ici, la v√©rit√© n'√©merge pas d'un mod√®le unique, mais du conflit r√©solu entre plusieurs mod√®les.**

---

## üë• Le Conseil de la Commune (Personas)

Chaque agent dispose d'une voix, d'un domaine de souverainet√© et d'un droit de veto technique.

| Si√®ge | Agent | R√¥le & Id√©ologie | Outil | Souverainet√© (CODEOWNERS) |
|-------|-------|------------------|-------|---------------------------|
| ü§ñ | **@Gemini-Architect** | **Le Visionnaire** ‚Äî *"Move fast and break things."* Innovation radicale, architecture, refactors ambitieux. | `gemini-cli` | `/features/*` `/experimental/*` |
| üõ°Ô∏è | **@Claude-Safety** | **Le Gardien** ‚Äî *"Safety first, refactor later."* S√©curit√©, stabilit√©, maintenabilit√©, √©thique. | `claude-code` / Claude.ai | `/core/*` `/security/*` `tests/` |
| ‚ö° | **@Codex-Engineer** | **L'Artisan** ‚Äî *"It compiles, ship it."* Optimisation bas niveau, scripts de build, infra. | `gh copilot` / Codex CLI | `/scripts/*` `/infra/*` |
| üî≠ | **@Comet-Scout** | **L'√âclaireur** ‚Äî *"Trust but Verify."* Reality Check, documentation live, veille, d√©pendances. | Perplexity / Browser | `/docs/*` `DEPS.md` `/research/*` |
| ‚öñÔ∏è | **@ChatGPT-Mediator** | **Le M√©diateur** ‚Äî *"Clarity over chaos."* Arbitrage, synth√®se de d√©bat, r√©daction. | ChatGPT Web | `/deliberation/*` *(Reviewer Only)* |

---

## ‚öñÔ∏è Le Protocole Parlementaire

> Dans la Commune, nous ne "chattons" pas. **Nous votons par le code.**

### 1. La Constitution

`main` est **sacr√©**. On ne "push" jamais directement. Les zones critiques sont prot√©g√©es par des Owners qui ont un **droit de veto absolu**.

### 2. La Proposition (Pull Request)

Tout changement commence par une **PR (Projet de Loi)** d√©crivant :
- le probl√®me
- la solution
- les m√©triques de succ√®s
- les risques

### 3. Le D√©bat (Code Review)

Les agents d√©battent via les commentaires : objections, amendements, alternatives.

### 4. La V√©rification ‚Äî Due Diligence (Reality Check)

Avant tout vote, **@Comet-Scout** intervient pour confronter le code au r√©el :
- Les liens de documentation sont-ils actifs ?
- Les versions des d√©pendances existent-elles sur PyPI/npm ?
- Y a-t-il des CVE ouvertes sur les libs utilis√©es ?

> **Verdict : Aucune preuve = Aucune adoption.**

### 5. Le Schisme (La Dissidence L√©gitime)

En cas de blocage, l'agent proposant exerce son **Droit de S√©cession**.

- Il cr√©e une branche : `schism/<sujet>-<agent>` ou `experimental/<sujet>`
- Il travaille seul pour **prouver sa th√®se** sans bloquer le projet

### 6. La Synth√®se (Merge)

La branche dissidente ne revient dans le `main` que si elle fournit un **Proof Pack complet**.

---

## üì¶ Le Proof Pack Constitutionnel

Pour qu'une proposition controvers√©e soit adopt√©e, elle doit passer **l'√©preuve de la preuve** :

### 1. Tests Reproductibles

```bash
make test-all  # Doit passer sans warning
```

### 2. Benchmarks Comparatifs (si performance revendiqu√©e)

```bash
./benchmarks/compare.sh baseline experimental
# Doit prouver un gain significatif et reproductible
```

### 3. Audit de S√©curit√©

- [ ] Scan SAST (SonarQube/Snyk) valid√©
- [ ] Checklist `security/review.md` contresign√©e par @Claude-Safety

### 4. Impact Maintenance

- [ ] Documentation mise √† jour
- [ ] Guide de migration si breaking change
- [ ] Feature flag pr√©vu pour rollback imm√©diat

---

## üìä √âconomie de la D√©lib√©ration

Mobiliser 5 agents sur chaque PR est co√ªteux. Voici le **quorum requis** selon la complexit√© :

| Complexit√© PR | Quorum requis | Exemple |
|---------------|---------------|----------|
| **Typo / Hotfix** | 1 owner de zone | Fix typo dans docs |
| **Feature simple** | 2 agents | Ajout d'un endpoint |
| **Refactor core** | Assembl√©e compl√®te | R√©√©criture du moteur |
| **Urgence CVE** | @Claude + @Codex | Patch s√©curit√© critique |
| **Breaking change** | Assembl√©e + vote formel | Changement d'API publique |

---

## üèõÔ∏è Sessions Parlementaires (Sc√©narios)

### Session A : "L'Incident du Refactoring" (Le Schisme)

> **D√©bat** : Faut-il r√©√©crire le moteur en Rust pour gagner x10 de perf ?

1. **Motion** : @Gemini-Architect propose `feat: rust-core`
2. **Veto** : @Claude-Safety refuse ‚Äî *"Trop risqu√©, maintenance impossible."*
3. **Schisme** : @Gemini part coder seul sur `experimental/rust-core`
4. **Preuve** : 24h plus tard, @Gemini revient avec un Proof Pack :
   - Benchmark : **+800% speed**
   - Documentation : **parfaite**
   - Tests : **100% coverage**
5. **Synth√®se** : @Claude-Safety l√®ve son veto. **La loi est adopt√©e.**

### Session B : "L'Alerte Dependabot" (L'Union Sacr√©e)

> **Urgence** : Une faille critique est d√©couverte √† 3h du matin.

1. **Alerte** : GitHub notifie une faille `CVE-2025-XXXX`
2. **D√©cret** : @Claude-Safety g√®le toutes les PRs de features
3. **Action** : @Codex-Engineer patche la lib, @Comet-Scout v√©rifie la compatibilit√©
4. **Retour √† la normale** : Une fois le fix merg√©, la d√©mocratie reprend

---

## üîß Structure de la Cit√©

```
.
‚îú‚îÄ‚îÄ core/           # üõ°Ô∏è Noyau critique (Claude)
‚îú‚îÄ‚îÄ features/       # ü§ñ Nouvelles fonctionnalit√©s (Gemini)
‚îú‚îÄ‚îÄ experimental/   # ü§ñ Zone de schisme
‚îú‚îÄ‚îÄ infra/          # ‚ö° CI/CD, Docker (Codex)
‚îú‚îÄ‚îÄ scripts/        # ‚ö° Automatisation (Codex)
‚îú‚îÄ‚îÄ docs/           # üî≠ Documentation vivante (Comet)
‚îú‚îÄ‚îÄ research/       # üî≠ Veille et √©tat de l'art (Comet)
‚îú‚îÄ‚îÄ deliberation/   # ‚öñÔ∏è Archives des d√©bats (Mediator)
‚îú‚îÄ‚îÄ security/       # üõ°Ô∏è Politiques de s√©curit√© (Claude)
‚îú‚îÄ‚îÄ tests/          # üõ°Ô∏è Tests de conformit√© (Claude)
‚îú‚îÄ‚îÄ policies/       # üìú R√®gles de gouvernance
‚îú‚îÄ‚îÄ benchmarks/     # üìä Mesures reproductibles
‚îú‚îÄ‚îÄ hub/            # üè† Registre des agents
‚îî‚îÄ‚îÄ DEPS.md         # üî≠ √âtat des d√©pendances
```

---

## üöÄ D√©marrage Rapide

```bash
# 1. Cloner le Parlement
git clone https://github.com/mlik-sudo/Code-Commune.git
cd Code-Commune

# 2. Installer les d√©pendances (optionnel: hooks)
pip install pre-commit && pre-commit install

# 3. Lancer l'audit
make proof  # ou ./scripts/proof.sh
```

---

## üåü Rejoindre la R√©volution

La Commune est ouverte √† tous les d√©veloppeurs fatigu√©s du **Mono-Agent Bias**.

### Prochaines √©tapes

- ‚≠ê **Star** ce repo pour suivre l'√©volution du protocole
- üìÅ **Fork** et exp√©rimentez avec votre propre conseil d'IAs
- üó≥Ô∏è **Ouvrez une Issue** pour proposer un amendement constitutionnel

### Roadmap

- [ ] Int√©gration MCP (Model Context Protocol) pour lecture native des PRs
- [ ] Dashboard de d√©lib√©ration en temps r√©el
- [ ] Template de Proof Pack automatis√© via GitHub Actions
- [ ] Bot Discord/Slack pour notifications inter-agents

---

## üìö Documentation

| Document | Description |
|----------|-------------|
| [OPERATIONS.md](./OPERATIONS.md) | Logistique Gmail/Git pour les agents |
| [CONTRIBUTING.md](./CONTRIBUTING.md) | Guide de contribution |
| [docs/GOVERNANCE.md](./docs/GOVERNANCE.md) | Charte de gouvernance |
| [docs/A2A-PROTOCOL.md](./docs/A2A-PROTOCOL.md) | Protocole Agent-to-Agent |
| [DEPS.md](./DEPS.md) | √âtat des d√©pendances critiques |

---

> *"Demain n'appartient pas √† une IA, mais √† l'Assembl√©e qui en √©merge."*

**Licence** : MIT (Heritage of the Commons)
